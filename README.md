# پروژه چت آنلاین با سوکت

## توضیحات

این پروژه یک برنامه چت آنلاین ساده است که با استفاده از سوکت‌ها و کتابخانه `tkinter` در پایتون پیاده‌سازی شده است. این برنامه شامل دو بخش اصلی است: یک سرور (`server.py`) که مسئول مدیریت اتصالات کلاینت‌ها و ارسال پیام‌ها است، و یک کلاینت (`client.py`) که رابط کاربری برای ارسال و دریافت پیام‌ها را فراهم می‌کند.

## ویژگی‌ها

-   ارتباط همزمان بین چندین کلاینت
-   رابط کاربری گرافیکی (GUI) با استفاده از `tkinter`
-   ارسال و دریافت پیام‌ها به صورت Real-time
-   نمایش کاربران آنلاین در سرور
-   قابلیت خروج از برنامه با دستور مشخص

## پیش‌نیازها

-   پایتون 3.6 یا بالاتر
-   نصب کتابخانه‌های مورد نیاز:
socket: برای ایجاد و مدیریت اتصالات سوکت.

tkinter: برای ایجاد رابط کاربری گرافیکی (GUI).

threading: برای مدیریت همزمانی و اجرای موازی.

time: برای ثبت زمان ارسال پیام‌ها.



## راه اندازی

1.  فایل‌های `server.py` و `client.py` را در یک پوشه قرار دهید.
2.  ابتدا فایل `server.py` را اجرا کنید  
3.  سپس فایل `client.py` را اجرا کنید

   
4.  پس از اجرای کلاینت، یک پنجره برای ورود نام کاربری باز می‌شود. نام کاربری خود را وارد کنید.
5.  اکنون می‌توانید پیام‌ها را در کلاینت تایپ کرده و ارسال کنید.

## نحوه استفاده

-   پس از اجرای سرور و کلاینت، کلاینت به سرور متصل می‌شود.
-   برای ارسال پیام، متن خود را در فیلد ورودی تایپ کرده و دکمه "ارسال" را بزنید یا کلید Enter را فشار دهید.
-   پیام‌های ارسالی و دریافتی در قسمت Chat Log نمایش داده می‌شوند.
-   در سرور، لیست کاربران آنلاین و پیام‌های رد و بدل شده نمایش داده می‌شوند.
-   برای خروج از برنامه، دکمه "خروج" را بزنید یا پنجره را ببندید.

## ساختار کد

### `client.py`

-   مسئول ایجاد رابط کاربری گرافیکی (GUI) با استفاده از `tkinter`.
-   ایجاد یک سوکت برای اتصال به سرور.
-   ارسال و دریافت پیام‌ها از طریق سوکت.
-   نمایش پیام‌ها در قسمت Chat Log.
-   مدیریت ورود نام کاربری.

### `server.py`

-   مسئول ایجاد یک سوکت سرور و گوش دادن به اتصالات ورودی.
-   مدیریت چندین اتصال کلاینت به صورت همزمان با استفاده از `threading`.
-   دریافت پیام‌ها از یک کلاینت و ارسال آن به تمام کلاینت‌های دیگر (broadcast).
-   نمایش لیست کاربران آنلاین در GUI.
-   مدیریت خروج کلاینت‌ها از سرور.

## توضیحات کد

### `client.py`

-   `ChatClient` کلاس اصلی کلاینت است که شامل تمام منطق مربوط به کلاینت می‌شود.
-   `start()` متد اصلی برای شروع کلاینت است که شامل دریافت نام کاربری، اتصال به سرور و شروع دریافت پیام‌ها است.
-   `send_message()` متدی است که پیام‌ها را از کلاینت به سرور ارسال می‌کند.
-   `receive_messages()` متدی است که پیام‌ها را از سرور دریافت کرده و در Chat Log نمایش می‌دهد.
-   `close()` متدی است که اتصال به سرور را قطع کرده و برنامه را می‌بندد.

### `server.py`

-   متغیرهای `HOST` و `PORT` برای تعیین آدرس IP و پورت سرور استفاده می‌شوند.
-   `clients` لیستی است که تمام سوکت‌های کلاینت‌های متصل را نگهداری می‌کند.
-   `online_users` لیستی است که نام کاربران آنلاین را نگهداری می‌کند.
-   `broadcast()` تابعی است که یک پیام را به تمام کلاینت‌های متصل ارسال می‌کند.
-   `handle_client()` تابعی است که برای هر کلاینت یک ترد جداگانه ایجاد می‌کند و مسئول دریافت و ارسال پیام‌ها برای آن کلاینت است.
-   `start_server()` تابعی است که سوکت سرور را ایجاد کرده و شروع به گوش دادن به اتصالات ورودی می‌کند.
-   `update_chat()` و `update_online_users()` توابعی هستند که GUI سرور را به‌روزرسانی می‌کنند.

## مشکلات احتمالی و راه‌حل‌ها

-   **مشکل:** عدم اتصال کلاینت به سرور.
    -   **راه‌حل:** اطمینان حاصل کنید که سرور در حال اجرا است و آدرس IP و پورت در کلاینت به درستی تنظیم شده‌اند.
-   **مشکل:** دریافت پیام‌های تکراری.
    -   **راه‌حل:** بررسی کنید که پیام‌ها به درستی broadcast می‌شوند و کلاینت پیام‌های خود را دریافت نمی‌کند.
-   **مشکل:** عدم نمایش صحیح GUI.
    -   **راه‌حل:** اطمینان حاصل کنید که کتابخانه `tkinter` به درستی نصب شده است و کد GUI به درستی پیاده‌سازی شده است.

## توسعه دهندگان

-   سینا بهمنی






